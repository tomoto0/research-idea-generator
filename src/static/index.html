<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Idea Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .tab-button.active { background-color: #3b82f6; color: white; }
        .loading { display: none; }
        .loading.show { display: block; }
        .result-section { display: none; }
        .result-section.show { display: block; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">üî¨ Research Idea Generator</h1>
            <p class="text-gray-600">AI-powered research idea generation with arXiv integration</p>
        </div>

        <!-- Tab Navigation -->
        <div class="bg-white rounded-lg shadow-lg mb-8">
            <div class="flex border-b">
                <button class="tab-button active px-6 py-3 font-medium text-sm rounded-tl-lg transition-colors" onclick="showTab('idea-generation')">
                    üí° Idea Generation
                </button>
                <button class="tab-button px-6 py-3 font-medium text-sm transition-colors" onclick="showTab('trend-analysis')">
                    üìà Trend Analysis
                </button>
                <button class="tab-button px-6 py-3 font-medium text-sm rounded-tr-lg transition-colors" onclick="showTab('paper-search')">
                    üîç Paper Search
                </button>
            </div>

            <!-- Idea Generation Tab -->
            <div id="idea-generation" class="tab-content active p-6">
                <h2 class="text-2xl font-semibold mb-6 text-gray-800">Research Idea Generation</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Research Topic:</label>
                        <input type="text" id="topic" placeholder="e.g., quantum computing, AI ethics, machine learning" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Focus Area:</label>
                        <select id="focus-area" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Please select</option>
                            <option value="interdisciplinary">Interdisciplinary Approach</option>
                            <option value="methodology">Methodology & Technology Development</option>
                            <option value="applications">Practical Applications</option>
                            <option value="theoretical">Theoretical Foundation Research</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Number of Reference Papers:</label>
                        <input type="number" id="num-papers" value="10" min="5" max="50" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Categories (comma-separated):</label>
                        <input type="text" id="categories" placeholder="e.g., cs.AI, cs.LG, stat.ML" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>
                
                <button onclick="generateIdeas()" 
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                    üöÄ Generate Ideas
                </button>
                
                <!-- Loading -->
                <div id="loading" class="loading text-center py-8">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
                    <p class="mt-2 text-gray-600">Generating research ideas...</p>
                </div>
                
                <!-- Results -->
                <div id="results" class="result-section mt-8"></div>
            </div>

            <!-- Trend Analysis Tab -->
            <div id="trend-analysis" class="tab-content p-6">
                <h2 class="text-2xl font-semibold mb-6 text-gray-800">Research Trend Analysis</h2>
                <p class="text-gray-600">Coming soon...</p>
            </div>

            <!-- Paper Search Tab -->
            <div id="paper-search" class="tab-content p-6">
                <h2 class="text-2xl font-semibold mb-6 text-gray-800">Paper Search</h2>
                <p class="text-gray-600">Coming soon...</p>
            </div>
        </div>

        <!-- Features Section -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <div class="text-4xl mb-4">ü§ñ</div>
                <h3 class="text-xl font-semibold mb-2">AI-Powered Generation</h3>
                <p class="text-gray-600">Advanced AI algorithms generate innovative research ideas based on current literature</p>
            </div>
            
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <div class="text-4xl mb-4">üìö</div>
                <h3 class="text-xl font-semibold mb-2">arXiv Integration</h3>
                <p class="text-gray-600">Direct integration with arXiv database for real-time paper analysis and trend identification</p>
            </div>
            
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <div class="text-4xl mb-4">üìà</div>
                <h3 class="text-xl font-semibold mb-2">Trend Analysis</h3>
                <p class="text-gray-600">Comprehensive analysis of research trends, gaps, and emerging opportunities</p>
            </div>
        </div>

        <!-- About Section -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h3 class="text-2xl font-bold mb-4">üî¨ About Research Idea Generator</h3>
            <p class="text-gray-700 mb-4">
                This application leverages advanced AI technology to help researchers discover innovative research opportunities 
                by analyzing current academic literature and identifying emerging trends.
            </p>
            
            <h4 class="text-lg font-semibold mb-2">Key Features:</h4>
            <ul class="list-disc list-inside text-gray-700 mb-4 space-y-1">
                <li><strong>arXiv Database Integration:</strong> Real-time access to over 2 million research papers across multiple disciplines</li>
                <li><strong>AI-Powered Analysis:</strong> Advanced natural language processing to understand research contexts and generate novel ideas</li>
                <li><strong>Trend Identification:</strong> Statistical analysis of publication patterns, author networks, and research evolution</li>
                <li><strong>Multi-disciplinary Support:</strong> Covers computer science, physics, mathematics, biology, and more</li>
                <li><strong>Research Gap Detection:</strong> Identifies underexplored areas and potential research opportunities</li>
                <li><strong>Feasibility Assessment:</strong> Evaluates the practical viability of proposed research directions</li>
            </ul>
            
            <h4 class="text-lg font-semibold mb-2">Technical Specifications:</h4>
            <ul class="list-disc list-inside text-gray-700 space-y-1">
                <li><strong>Data Source:</strong> arXiv.org academic repository with daily updates</li>
                <li><strong>AI Model:</strong> Google Gemini 2.5 Flash for advanced text generation and analysis</li>
                <li><strong>Search Capabilities:</strong> Advanced query processing with category filtering and date ranges</li>
                <li><strong>Analysis Depth:</strong> Processes up to 100 papers per analysis for comprehensive insights</li>
                <li><strong>Update Frequency:</strong> Real-time access to the latest research publications</li>
            </ul>
            
            <p class="text-gray-700 mt-4">
                This application is deployed on Manus servers and provides researchers worldwide with cutting-edge tools 
                for academic discovery and innovation.
            </p>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        async function generateIdeas() {
            const topic = document.getElementById('topic').value.trim();
            const focusArea = document.getElementById('focus-area').value;
            const numPapers = document.getElementById('num-papers').value;
            const categories = document.getElementById('categories').value.trim();
            
            if (!topic) {
                alert('Please enter a research topic');
                return;
            }
            
            // Show loading
            document.getElementById('loading').classList.add('show');
            document.getElementById('results').classList.remove('show');
            
            try {
                const response = await fetch('/api/generate-ideas-enhanced', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        topic: topic,
                        focus_area: focusArea,
                        num_papers: parseInt(numPapers),
                        categories: categories ? categories.split(',').map(c => c.trim()) : []
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`Network error or server error: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.success) {
                    displayResults(data);
                } else {
                    throw new Error(data.error || 'Unknown error occurred');
                }
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('results').innerHTML = `
                    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
                        <strong>Error:</strong> ${error.message}
                    </div>
                `;
                document.getElementById('results').classList.add('show');
            } finally {
                document.getElementById('loading').classList.remove('show');
            }
        }
        
        function displayResults(data) {
            const resultsDiv = document.getElementById('results');
            let html = `
                <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6">
                    <strong>Success!</strong> Generated ${data.ideas.length} research ideas for "${data.topic}"
                </div>
            `;
            
            data.ideas.forEach((idea, index) => {
                html += `
                    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                        <h3 class="text-xl font-bold mb-4 text-blue-800">${index + 1}. ${idea.title}</h3>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold text-gray-800 mb-2">Background & Hypothesis:</h4>
                            <p class="text-gray-700 mb-2">${idea.overview.background}</p>
                            <p class="text-gray-700 font-medium">${idea.overview.research_hypothesis}</p>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold text-gray-800 mb-2">Significance & Novelty:</h4>
                            <p class="text-gray-700 mb-2">${idea.overview.significance}</p>
                            <p class="text-gray-700">${idea.overview.novelty}</p>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold text-gray-800 mb-2">Methodology:</h4>
                            <p class="text-gray-700 mb-2"><strong>Research Design:</strong> ${idea.methodology.research_design}</p>
                            <p class="text-gray-700 mb-2"><strong>Data Collection:</strong> ${idea.methodology.data_collection.methods.join(", ")}</p>
                            <p class="text-gray-700 mb-2"><strong>Analysis Techniques:</strong> ${idea.methodology.analysis_techniques.map(tech => tech.technique).join(", ")}</p>
                            <p class="text-gray-700"><strong>Validation Methods:</strong> ${idea.methodology.validation_methods.join(", ")}</p>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold text-gray-800 mb-2">Feasibility:</h4>
                            <p class="text-gray-700 mb-2"><strong>Timeline:</strong> ${idea.feasibility.timeline.total_duration}</p>
                            <p class="text-gray-700 mb-2"><strong>Computational Requirements:</strong> ${idea.feasibility.resource_needs.computational}</p>
                            <p class="text-gray-700"><strong>Risk Assessment:</strong> ${idea.feasibility.risk_assessment.map(risk => risk.risk).join(", ")}</p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-2">Expected Impact:</h4>
                            <p class="text-gray-700 mb-2"><strong>Scientific Contribution:</strong> ${idea.impact.scientific_contribution}</p>
                            <p class="text-gray-700 mb-2"><strong>Practical Applications:</strong> ${idea.impact.practical_applications.join(", ")}</p>
                            <p class="text-gray-700"><strong>Societal Benefits:</strong> ${idea.impact.societal_benefits.join(", ")}</p>
                        </div>
                    </div>
                `;
            });
            
            resultsDiv.innerHTML = html;
            resultsDiv.classList.add('show');
        }
    </script>
</body>
</html>

